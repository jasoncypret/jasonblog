<%
# Local variables:
# - layout_type: String (required) - 'default', 'single-image', or 'centered-image'
# - title: String (required)
# - description: String (required)
# - images: Array of Hashes (required)
#   Each image should have:
#   - src: String (required)
#   - alt: String (required)
#   - caption: String (optional)
%>

<% 
  layout_classes = {
    'default' => 'photo-content--two-column',
    'single-image' => 'photo-content--single-image',
    'centered-image' => 'photo-content--centered'
  }
%>

<section class="photo-content <%= layout_classes[layout_type] %>">
  <div class="container">
    <% if layout_type == 'centered-image' %>
      <%# Centered layout %>
      <h2 class="title" data-aos="fade-up"><%= title %></h2>
      <div class="image-container" data-aos="fade-up" data-aos-delay="100">
        <% if images.first %>
          <div class="gallery-item">
            <img class="gallery-thumbnail lazyload" 
                 src="<%= images.first[:src] %>"
                 alt="<%= images.first[:alt] %>"
                 <%= "data-lightbox='#{title}'" if images.length > 1 %>>
            <% if images.first[:caption] %>
              <p class="caption"><%= images.first[:caption] %></p>
            <% end %>
          </div>
        <% end %>
      </div>
      <div class="description-wide" data-aos="fade-up" data-aos-delay="200">
        <%= description %>
      </div>

    <% elsif layout_type == 'single-image' %>
      <%# Single image layout %>
      <div class="content-wrapper">
        <div class="content-primary" data-aos="fade-up">
          <h2 class="title"><%= title %></h2>
          <div class="description">
            <%= description %>
          </div>
        </div>
        <div class="content-secondary" data-aos="fade-up" data-aos-delay="100">
          <% if images.first %>
            <div class="gallery-item">
              <img class="gallery-thumbnail lazyload" 
                   src="<%= images.first[:src] %>"
                   alt="<%= images.first[:alt] %>">
              <% if images.first[:caption] %>
                <p class="caption"><%= images.first[:caption] %></p>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>

    <% else %>
      <%# Default two-column layout %>
      <div class="content-wrapper">
        <div class="content-primary" data-aos="fade-up">
          <h2 class="title"><%= title %></h2>
          <div class="description">
            <%= description %>
          </div>
          <% if images.first %>
            <div class="gallery-item" data-aos="fade-up" data-aos-delay="100">
              <img class="gallery-thumbnail lazyload" 
                   src="<%= images.first[:src] %>"
                   alt="<%= images.first[:alt] %>"
                   <%= "data-lightbox='#{title}'" if images.length > 1 %>>
              <% if images.first[:caption] %>
                <p class="caption"><%= images.first[:caption] %></p>
              <% end %>
            </div>
          <% end %>
        </div>
        <div class="content-secondary">
          <% if images[1] %>
            <div class="gallery-item" data-aos="fade-up" data-aos-delay="200">
              <img class="gallery-thumbnail lazyload" 
                   src="<%= images[1][:src] %>"
                   alt="<%= images[1][:alt] %>"
                   <%= "data-lightbox='#{title}'" if images.length > 1 %>>
              <% if images[1][:caption] %>
                <p class="caption"><%= images[1][:caption] %></p>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</section> 