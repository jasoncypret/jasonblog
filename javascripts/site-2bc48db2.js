document.addEventListener("DOMContentLoaded",function(){function e(e){return e?e.textContent:null}console.log("DOM Content Loaded");const t=document.querySelectorAll(".gallery-item");if(console.log("Found gallery items:",t.length),0!==t.length){const l=document.createElement("div");l.className="lightbox",l.innerHTML='<div class="lightbox-content"><img class="lightbox-image lazyload" src="" alt=""><h3 class="lightbox-title"></h3><p class="lightbox-description"></p></div>',document.body.appendChild(l),console.log("Created lightbox element"),Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(){const t=this.querySelector(".gallery-thumbnail"),o=this.querySelector(".gallery-item-title"),i=this.querySelector(".gallery-item-description"),a=e(o),n=e(i),s=l.querySelector(".lightbox-image"),c=l.querySelector(".lightbox-title"),d=l.querySelector(".lightbox-description"),r=t.getAttribute("data-lightbox");s.src=r||t.src,s.alt=t.alt,s.classList.add("lazyload"),window.lazySizes&&window.lazySizes.loader.unveil(s),a?(c.textContent=a,c.style.display="block"):c.style.display="none",n?(d.textContent=n,d.style.display="block"):d.style.display="none",l.classList.add("active")})}),l.addEventListener("click",function(e){if(e.target===l){l.querySelector(".lightbox-image").classList.remove("lazyload","lazyloaded","ls-is-cached"),l.classList.remove("active")}}),document.addEventListener("keydown",function(e){if("Escape"===e.key&&l.classList.contains("active")){l.querySelector(".lightbox-image").classList.remove("lazyload","lazyloaded","ls-is-cached"),l.classList.remove("active")}})}});